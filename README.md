# Scrambles Matcher

This tool enables you to assign sets of JSON scrambles generated by TNoodle to a WCIF. You can either import an existing WCIF or import a results spreadsheet (created by cubecomps) that will be converted to a WCIF.

You are most likely used to using the Workbook Assistant (WA). For competition where everything went well and you just have one single and comprehensive JSON scrambles file, then using this should be almost like using the WA.
If you have had to edit manually some scrambles JSON because of Multiple Blindfolded, or if you have had to combine multiple scrambles JSONs, read on! Here is a non exhaustive list of differences:

### Additions


  - "Better" scrambles matching.
The WA re-assigns automatically scrambles each time you upload a separate scrambles JSON. Even if you already matched a round to its corresponding set in the already uploaded scrambles. Scrambles Matcher assigns on-demand, and will only try to associate rounds which have no scrambles to scrambles from the uploaded JSON(s).
  - Better Drag and Drop for scrambles.
If you have moved scrambles around in the WA you know what I'm talking about.
  - Native support for attempt-based event.
Namely Multiple Blindfolded and Fewest Moves. When importing scrambles JSON(s) it will split scramble sheets for these events into attempt, so that they can be matched (manually or automatically) to the attempt they have actually been used for.
Especially useful if you had to generate a couple of extra scrambles for Multiple Blindfolded, or simply if you used several groups for that event.
Then for the results JSON they are grouped together in a meaningful way for the WCA website.
  - No more 100MB database download, no more java, just a html page to load. However this leads to a missing feature (for now), see below.

### Missing feature


  - No more newcomers check. It does mean you will have to upload the results to the WCA website first, as it will validate the list of competitors. Since you can download the Results JSON even if you don't have assigned scrambles, you should be able to check newcomers even before going through scrambles assignment.

## Developer documentation

This is a somewhat standard "create react app", therefore you can:

  - install dependencies by running `npm install`
  - start the development server by running `npm start`

The "production" website is actually hosted through github pages.
You have to checkout locally the version you want to put online, and run `npm run deploy`.
This will create a production build and force-push it to the `gh-pages` branch.

**Make sure your `origin` remote points to `thewca` repository!**
Otherwise it will publish it to your fork's `gh-pages` branch.

The canonical url for the application is `https://scrambles-matcher.worldcubeassociation.org`.
We have a `CNAME` record in our WCA DNS provider, and this domain must appear in the `CNAME` file at the public root of the application (in `public`).
